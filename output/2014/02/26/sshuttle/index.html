<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>sshuttle - Random Geekage</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="../../../../2014/02/26/sshuttle/">

        <meta name="author" content="Kevin" />
        <meta name="keywords" content="ssh,tunnel,vpn" />
        <meta name="description" content="A couple of my friends have been playing about with getting VPNs running. I have tried to do similar in the past but never got it to work very well. However, while skiving at work, I came across sshuttle which is sort of a transparent proxy, ssh tunnel and VPN ..." />

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Random Geekage" />
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="Random Geekage"/>
        <meta property="og:url" content="../../../.."/>
        <meta property="og:description" content="Random Geekage"/>


    <!-- Bootstrap -->
        <link rel="stylesheet" href="../../../../theme/css/bootstrap.min.css" type="text/css"/>
    <link href="../../../../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../../../../theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../theme/css/style.css" type="text/css"/>

        <link href="../../../../feed/index.html" type="application/atom+xml" rel="alternate"
              title="Random Geekage ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../../../" class="navbar-brand">
Random Geekage            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="../../../../gpg-public-key/">
                             GPG Public Key
                          </a></li>
                         <li><a href="../../../../now/">
                             Now
                          </a></li>
                         <li><a href="../../../../reading-list/">
                             Reading list
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="../../../../archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article class="entry tag-ssh tag-tunnel tag-vpn category-uncategorized">
            <header class="entry-header">
                <h1 class="entry-title">
                    <a href="../../../../2014/02/26/sshuttle/"
                       rel="bookmark"
                       title="Permalink to sshuttle">
                        sshuttle
                    </a>
                </h1>
            </header>
            <div class="entry-content">
              <p>A couple of my friends have been playing about with getting VPNs
running. I have tried to do similar in the past but never got it to work
very well. However, while skiving at work, I came across
<a href="https://github.com/apenwarr/sshuttle">sshuttle</a> which is sort of a
transparent proxy, ssh tunnel and VPN all rolled into one nice package.</p>
<p>The neat thing about sshuttle is it doesn't require much setup. All it
requests of your endpoint is ssh access as a regular user and the
ability to run python. Locally you need python and root or sudo
privileges as it manipulates your iptables rules to get the job done.</p>
<p>The really neat thing is you can get it to capture your DNS requests so
that an eavesdropper can't tell what addresses you are looking up.</p>
<div class="highlight"><pre>sshuttle --dns -r username@sshserver 0/0
</pre></div>


<p>is the command to use once you install it. You can add -v flags to make
it more verbose but it is already quite verbose as it is.</p>
<p>The one drawback I have found is that it doesn't use my ssh keys very
easily. As it runs as root, the root user has no access to my ssh keys
and wants the password to login to the remote machine. You can pass it
the ssh invocation to use your keyring but if you have that password
protected like I have (a good idea), it requests the password for that.
Thus, you still have to type in a password no matter what you do.</p>
<p>Its a small drawback, especially seeing as it protects your traffic from
eavesdroppers right up to your remote machine. Very handy for hostile
(publicly accessible) networks.</p>
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2014-02-26T00:05:00+00:00"> Wed 26 February 2014</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="../../../../tag/ssh/">ssh</a>
        /
	<a href="../../../../tag/tunnel/">tunnel</a>
        /
	<a href="../../../../tag/vpn/">vpn</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://twitter.com/kevinisageek"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                <li class="list-group-item"><a href="https://github.com/kevinisageek"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
                <li class="list-group-item"><a href="/feed/"><i class="fa fa-rss-square fa-lg"></i> RSS</a></li>
              </ul>
            </li>



    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2017 Kevin Smith
            <!--&middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>-->         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="../../../../theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../../../../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../../../../theme/js/respond.min.js"></script>


</body>
</html>